#pragma once
#include <string>
#include <vector>
#include <optional>
#include <cstdint>

namespace {{ namespace }} {

// Input structure
struct {{ sp.name }}Input {
{% for param in sp.input_params %}
    {{ param.cpp_type }} {{ param.name }};
{% endfor %}
};

// Output row structure
struct {{ sp.name }}Row {
{% for col in sp.output_columns %}
{% if col.nullable %}
    std::optional<{{ col.cpp_type }}> {{ col.name }};
{% else %}
    {{ col.cpp_type }} {{ col.name }};
{% endif %}
{% endfor %}
};

// Result structure
struct {{ sp.name }}Result {
    int error_code;
    std::string error_message;
    std::vector<{{ sp.name }}Row> rows;
};

} // namespace {{ namespace }}
